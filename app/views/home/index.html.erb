<%# ================================================================ %>
<%# Home Page View (home/index.html.erb)                            %>
<%# This page displays a welcome message and a list of recently      %>
<%# added public quotes with brief details and a link to read more.  %>
<%# It also includes a button to view all public quotes in the system.      %>
<%# ================================================================ %>
<h1 class="mb-4">Welcome to myQuote</h1>
<h3>Recently Added Quotes</h3>
<hr />

<%# Bootstrap grid layout — arranges quote cards vertically with spacing. %>
<div class="row row-cols-1 g-3">
  <% @quotes.each do |quote| %>
    <%# Iterates through the @quotes collection (passed from the controller). %>
    <%# Each quote record is displayed inside a Bootstrap card layout. %>
    <div class="col">
      <div class="card bg-body-tertiary">
        <div class="card-body">
          <%# Displays the main quote text with a character limit to keep layout tidy. %>
          <h4 class="card-title"><%= truncate(quote.quote_text, length: 120) %></h4>
          <% if quote.comment.present? %>
            <%# If the quote includes a user comment, display a truncated version. %>
            <p class="card-text"><%= truncate(quote.comment, length: 140) %></p>
          <% end %>
          <p class="mb-2">
            <%# Shows the quote’s published year, or 'N/A' if the year is missing. %>
            <span class="badge bg-info text-dark">Year: <%= quote.published_year || "N/A" %></span>
            <% quote.categories.each do |category| %>
              <%# Iterates through each category associated with this quote and print them. %>
              <span class="badge bg-secondary ms-1"><%= category.category_name %></span>
            <% end %>
          </p>
           <%# Provides a button that links to the detailed quote view page. %>
          <%= link_to "Read full Quote", quote_path(quote), class: "btn btn-sm btn-outline-primary" %>
        </div>
      </div>
    </div>
  <% end %>
</div>

<div class="text-center mt-4">
  <%# Adds a large button centered on the page to navigate to all quotes. %>
  <%= link_to "Show More Quotes", quotes_path, class: "btn btn-primary btn-lg" %>
</div>